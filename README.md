##  locker

### 分布式锁

分布式锁目前实现大部分是由3个组件完成
- 使用mysql
- 使用redis
- 使用zookeeper
  
 基于此,成熟的案例有比如<a href="https://github.com/redisson/redisson">redisson</a> 这种官方比较推荐的方案,为了深入研究,准备在这个项目中复现这3种形式的锁
 
 ### 锁的不同实现方式
 
 #### 数据库锁
 
 - 非重入锁
 
 数据库非重入锁,依赖于数据库主键唯一冲突,在多个请求过来的时候,让最先访问到的请求,直接插入值来拿到锁,其他的则不断重试,直到失败,如果需要释放锁的话,直接将该锁逻辑删除即可
 
 - 可重入锁
 
  数据库可重入锁,需要在表新增一个标识,来区分是本身线程的重试还是其他线程的重试,只有允许该标识下的请求进入,并成功获取锁,多次进入时,会在次数上+1,
  释放锁的时候,需要判断该锁的次数是否完全达到释放的次数,每次释放将该锁的次数-1,直到0
   
 #### redis锁